// AUTHOR: HUDSON GREEN
// CONTRIBUTORS: N/A

class ItemManager : ZilchComponent {
    
    var ID : Integer = 0;
    var Spacers : Array[Integer] = null;
    var CurrentSpacerIndex : Integer = 0;
    
    function Initialize(init : CogInitializer) {
        
        Relocation.Space = this.Space;
        Relocation.ItemManager = this.Owner.ItemManager;
        
        Relocation.Items = new Array[Item]();
        this.Spacers = new Array[Integer]();
        
        Relocation.Items.Push(new Item("Circle",                        true));
        Relocation.Items.Push(new Item("ItemPistol",                    true));
        Relocation.Items.Push(new Item("ItemRevolver",                  false));
        Relocation.Items.Push(new Item("ItemRock",                      true));
        Relocation.Items.Push(new Item("ItemShotgun",                   true));
        Relocation.Items.Push(new Item("ItemBoulder",                   true));
        Relocation.Items.Push(new Item("ItemMinigun",                   true));
        Relocation.Items.Push(new Item("ItemSniper",                    true));
        Relocation.Items.Push(new Item("ItemGouda",                     true));
        this.AddSpacerItems(5);
        Relocation.Items.Push(new Item("ItemAmmoPistol",                true));
        Relocation.Items.Push(new Item("ItemAmmoShotgun",               true));
        Relocation.Items.Push(new Item("ItemAmmoMinigun",               true));
        Relocation.Items.Push(new Item("ItemAmmoAssault",               false));
        Relocation.Items.Push(new Item("ItemAmmoSniper",                true));
        Relocation.Items.Push(new HPack("ItemHealthPack",               false, 10));
        Relocation.Items.Push(new Item("ItemCopperOre",                 true));
        Relocation.Items.Push(new Item("ItemCopper",                    true));
        Relocation.Items.Push(new Item("ItemIronOre",                   true));
        Relocation.Items.Push(new Item("ItemIron",                      true));
        Relocation.Items.Push(new Item("ItemGoldOre",                   true));
        Relocation.Items.Push(new Item("ItemGold",                      true));
        Relocation.Items.Push(new Item("ItemTitaniumOre",               true));
        Relocation.Items.Push(new Item("ItemTitanium",                  true));
        Relocation.Items.Push(new Item("ItemPlatinumOre",               true));
        Relocation.Items.Push(new Item("ItemPlatinum",                  true));
        this.AddSpacerItems(4);
        Relocation.Items.Push(new HPack("ItemGreenBean",                true, 1));
        
        this.GiveItemsID();
        
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "The \"Laser\" (Pistol)", "Starter weapon. Not very powerful, but has\nunlimited ammo.");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Time Space Warper (Revolver)", "It is said that it will break everything\njust by holding it...");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Rock");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "\"Get Off My Lawn\" (Shotgun)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Boulder");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "L134 Devastator (Minigun)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Photon Sniper (Sniper Rifle)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Gouda Cheese");
        this.SkipSpacer();
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Ammunition (Pistol)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Ammunition (Shotgun)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Ammunition (Minigun)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Ammunition (Assault Rifle)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Ammunition (Sniper Rifle)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Health Pack");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Copper (Unprocessed)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Copper (Processed)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Iron (Unprocessed)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Iron (Processed)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Gold (Unprocessed)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Gold (Processed)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Titanium (Unprocessed)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Titanium (Processed)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Platinum (Unprocessed)");
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Platinum (Processed)");
        this.SkipSpacer();
        this.ID = Relocation.Items[this.ID].SetDisplayName(this.ID, "Green Bean");
        
        this.PropertySeperator();
        
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Air");          // AIR
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Weapon");       // PISTOL
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Weapon");       // REVOLVER
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Weapon");       // ROCK
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Weapon");       // SHOTGUN
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Weapon");       // BOULDER
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Weapon");       // MINIGUN
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Weapon");       // SNIPER RIFLE
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Weapon");       // GOUDA CHEESE
        this.SkipSpacer();
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Item");         // AMMO (PISTOL)
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Item");         // AMMO (SHOTGUN)
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Item");         // AMMO (MINIGUN)
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Item");         // AMMO (ASSAULT RIFLE)
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Item");         // AMMO (SNIPER RIFLE)
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Item");         // HEALTH PACK
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Resource");     // COPPER ORE
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Resource");     // COPPER
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Resource");     // IRON ORE
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Resource");     // IRON
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Resource");     // GOLD ORE
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Resource");     // GOLD
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Resource");     // TITANIUM ORE
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Resource");     // TITANIUM
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Resource");     // PLATINUM ORE
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Resource");     // PLATINUM
        this.SkipSpacer();
        this.ID = Relocation.Items[this.ID].SetItemType(this.ID, "Food");         // GREEN BEAN
        
        this.PropertySeperator();
        
        this.ShowItemIDs(true);
        
        Zero.Connect(this.Space, Events.LogicUpdate, this.OnLogicUpdate);
        
    }
    
    function OnLogicUpdate(event : UpdateEvent) {
        
    }
    
    function GiveItemsID() {
        this.ID = 0;
        while(this.ID < Relocation.Items.Count)
            this.ID = Relocation.Items[this.ID].SetID(this.ID);
        Console.WriteLine("`this.ID - 1` items successfully created");
        this.ID = 0;
    }
    
    function ShowItemIDs(showIDs : Boolean) {
        this.ID = 0;
        while(this.ID < Relocation.Items.Count)
            this.ID = Relocation.Items[this.ID].ShowLabelID(this.ID, showIDs);
        this.ID = 0;
    }
    
    function AddSpacerItems(amount : Integer) {
        
        for(var i = 0; i < amount; ++i) {
            Relocation.Items.Push(new Item("ItemNull", false));
        }
        
        this.Spacers.Push(amount);
        
    }
    
    function SkipSpacer() {
        
        this.ID += this.Spacers[this.CurrentSpacerIndex];
        
        ++this.CurrentSpacerIndex;
        
    }
    
    function PropertySeperator() {
        this.ID = 0;
        this.CurrentSpacerIndex = 0;
    }
    
    function GetIDByName(name : String) : Integer {
        
        for(var i = 0; i < Relocation.Items.Count; ++i) {
            if(Relocation.Items[i].ItemName == name) {
                return i;
            }
        }
        
        return -999;
        
    }
    
}
